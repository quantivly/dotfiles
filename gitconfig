# User configuration should be set in ~/.gitconfig.local
# This file is included below and is not tracked by dotfiles
#
# Example ~/.gitconfig.local:
#   [user]
#       name = Your Name
#       email = your.email@quantivly.com
#
# GPG signing is strongly encouraged. Add to ~/.gitconfig.local:
#   [user]
#       signingkey = <key-id>
#   [commit]
#       gpgsign = true
#
# See gitconfig.local.example for full setup instructions

# Include machine-specific and personal configuration
[include]
	path = ~/.gitconfig.local

# Machine-specific safe directories should be set in ~/.gitconfig.local
# Example:
#   [safe]
#       directory = /home/ubuntu/workspaces/test

[credential "https://github.com"]
	helper =
	helper = !gh auth git-credential

[credential "https://gist.github.com"]
	helper =
	helper = !gh auth git-credential

[alias]
    lg = lg1
    lg1 = lg1-specific --all
    lg2 = lg2-specific --all
    lg3 = lg3-specific --all

    lg1-specific = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(auto)%d%C(reset)'
    lg2-specific = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(reset) %C(bold green)(%ar)%C(reset)%C(auto)%d%C(reset)%n''          %C(white)%s%C(reset) %C(dim white)- %an%C(reset)'
    lg3-specific = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(reset) %C(bold green)(%ar)%C(reset) %C(bold cyan)(committed: %cD)%C(reset) %C(auto)%d%C(reset)%n''          %C(white)%s%C(reset)%n''          %C(dim white)- %an <%ae> %C(reset) %C(dim white)(committer: %cn <%ce>)%C(reset)'
	conflicts = diff --name-only --diff-filter=U

[core]
	editor = code --wait
	preloadindex = true           # Faster operations on large repos
	hooksPath = ~/.config/git/hooks  # Global hooks for all repositories

[fetch]
	prune = true                  # Auto-prune on fetch
	pruneTags = true              # Prune tags as well

[diff]
    tool = default-difftool
    colorMoved = default

[difftool]
    prompt = false

[difftool "default-difftool"]
    cmd = code --wait --diff $LOCAL $REMOTE

[pager]
    diff = delta
    log = delta
    reflog = delta
    show = delta

[interactive]
    diffFilter = delta --color-only

[delta]
    features = line-numbers
    syntax-theme = GitHub
    plus-style = "syntax #22863a"
    minus-style = "syntax #b31d28"
    line-numbers = true

    # Navigation keybindings (n/N) for large diffs
    navigate = true

    # Clickable links for commits, files, line numbers
    hyperlinks = true

    # De-emphasize unchanged lines for cleaner visual
    zero-style = dim syntax
    line-numbers-zero-style = dim

    # Hunk header with syntax only (filename shown in decoration above)
    hunk-header-style = syntax
    # No decorative boxes around hunk headers
    hunk-header-decoration-style = none
    # Emphasize file name with bold and color
    hunk-header-file-style = bold blue
    # Subtle underline decoration for file names
    file-decoration-style = blue ul

    # Auto-detect side-by-side based on terminal width
    # To force side-by-side: git diff --side-by-side
    # To force unified: git diff --no-side-by-side

[init]
	defaultBranch = main

[pull]
	rebase = true

[push]
	default = simple
	followTags = true
	autoSetupRemote = true        # Set upstream on first push

[branch]
	autosetupmerge = always
	autosetuprebase = always
	sort = -committerdate         # Sort branches by recent activity

[rebase]
	autosquash = true
	updateRefs = true             # Git 2.38+ - auto-update references
	missingCommitsCheck = warn    # Warn if commits are missing

[merge]
	conflictstyle = diff3

# GPG signing disabled by default. To enable:
#   git config --global commit.gpgsign true
#   git config --global user.signingkey <key-id>
# [commit]
# 	gpgsign = true
#
# [gpg]
# 	program = gpg

[hub]
	protocol = ssh

[feature]
	manyFiles = true              # Optimize for repos with many files
